<div class="container mt-4">
    <c-card>
      <c-card-body>
        <h5 class="mb-3">Manage Leave</h5>
        <form cForm class="mb-4">
          <c-row>
            <c-col [md]="3">
              <label cLabel for="department">Department</label>
              <select name="departmentId" [(ngModel)]="selectedDepartment" cSelect cFormControl id="department">
                <option [ngValue]="null">Select Department</option>
                @for (department of DepartmentOption; track $index) {
                  <option [ngValue]="department.id">{{department.name}}</option>
                }
              </select>
            </c-col>
            <c-col [md]="3">
              <label cLabel for="employeeSearch">Employee ID/Name</label>
              <input type="text" cFormControl id="employeeSearch" placeholder="search" />
            </c-col>
            <c-col [md]="2">
              <label cLabel for="fromDate">From Date</label>
              <input type="date" cFormControl id="fromDate" />
            </c-col>
            <c-col [md]="2">
              <label cLabel for="toDate">To Date</label>
              <input type="date" cFormControl id="toDate" />
            </c-col>
            <c-col [md]="2" class="align-self-end">
              <button cButton color="success">Search</button>
            </c-col>
          </c-row>
        </form>


        <div class="mt-3">
          <p-table 
          [value]="leaves" 
          styleClass="p-datatable-gridlines p-datatable-striped" 
          [tableStyle]="{ 'min-width': '50rem' }">
            <ng-template pTemplate="header">
                <tr>
                    <th>PMS_ID</th>
                    <th>Emp_Name</th>
                    <th>Leave Type</th>
                    <th>Start Date</th>
                    <th>End Date</th>
                    <th>Status</th>
                    <th>Action</th>
                </tr>
            </ng-template>
            <ng-template pTemplate="body" let-leave>
                <tr>
                    <td>{{ leave.idCardNo }}</td>
                    <td>{{ leave.empFirstName+" "+leave.empLastName }}</td>
                    <td>{{ leave.leaveTypeName }}</td>
                    <td>{{ leave.fromDate.split('T')[0] }}</td>
                    <td>{{ leave.toDate.split('T')[0] }}</td>
                    <td>{{ leaveOptions[leave.status] }}</td>
                    <td>
                      <button class="custom-button">
                        <mat-icon fontIcon="visibility"></mat-icon>
                      </button>
                    </td>
                </tr>
            </ng-template>
          </p-table> 
        </div>
  
       <!---- <table bordered cTable class="mt-3">
          <thead>
            <tr>
              <th scope="col">PMS_ID</th>
              <th scope="col">Emp_Name</th>
              <th scope="col">Leave Type</th>
              <th scope="col">Duration</th>
              <th scope="col">Dates</th>
              <th scope="col">Status</th>
              <th scope="col">Action</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
              <td>
                <select cSelect cFormControl>
                  <option value="approved">Approved</option>
                  <option value="pending">Pending</option>
                  <option value="rejected">Rejected</option>
                </select>
              </td>
              <td>
                <button cButton color="info"><i class="fa fa-eye"></i></button>
                <button cButton color="warning"><i class="fa fa-edit"></i></button>
                <button cButton color="danger"><i class="fa fa-trash"></i></button>
                <button cButton color="primary"><i class="fa fa-download"></i></button>
              </td>
            </tr>
          </tbody>
        </table>  -->

        <div class="container mt-4">
            <c-card>
              <c-card-body>
                <h5 class="mb-3">Manage Leave</h5>
                <div class="mb-4">
                  <c-row>
                    <c-col [md]="2">
                      <strong>PMS_ID:</strong>
                    </c-col>
                    <c-col [md]="4">
                      001
                    </c-col>
                  </c-row>
                  <c-row>
                    <c-col [md]="2">
                      <strong>Emp_Name:</strong>
                    </c-col>
                    <c-col [md]="4">
                      Rohim Ali
                    </c-col>
                  </c-row>
                  <c-row>
                    <c-col [md]="2">
                      <strong>Leave type:</strong>
                    </c-col>
                    <c-col [md]="4">
                      Sick
                    </c-col>
                  </c-row>
                  <c-row>
                    <c-col [md]="2">
                      <strong>Duration:</strong>
                    </c-col>
                    <c-col [md]="4">
                      5 days
                    </c-col>
                  </c-row>
                  <c-row>
                    <c-col [md]="2">
                      <strong>Dates:</strong>
                    </c-col>
                    <c-col [md]="4">
                      10-9-2023 to 15-9-2023
                    </c-col>
                  </c-row>
                  <c-row>
                    <c-col [md]="2">
                      <strong>Status:</strong>
                    </c-col>
                    <c-col [md]="4">
                      Pending
                    </c-col>
                  </c-row>
                </div>
                <h5 class="mb-3">Foreign Leave</h5>
                <div class="mb-4">
                  <c-row>
                    <c-col [md]="2">
                      <label cLabel for="country">Country</label>
                    </c-col>
                    <c-col [md]="4">
                      <input type="text" cFormControl id="country" class="mb-2"/>
                    </c-col>
                  </c-row>
                  <c-row>
                    <c-col [md]="2">
                      <label cLabel for="purpose">Purpose</label>
                    </c-col>
                    <c-col [md]="4">
                      <input type="text" cFormControl id="purpose" class="mb-2"/>
                    </c-col>
                  </c-row>
                  <c-row>
                    <c-col [md]="2">
                      <label cLabel for="accompanyBy">Accompany by</label>
                    </c-col>
                    <c-col [md]="4">
                      <input type="text" cFormControl id="accompanyBy" class="mb-2"/>
                    </c-col>
                  </c-row>
                </div>
                <h5 class="mb-3">Leave Associate File Upload</h5>
                <div class="mb-4">
                  <c-row>
                    <c-col [md]="2">
                      <label cLabel for="file">File</label>
                    </c-col>
                    <c-col [md]="4">
                      <input type="file" cFormControl id="file" />
                    </c-col>
                  </c-row>
                </div>
                <div class="mt-3">
                  <button cButton color="success" class="me-2">Approve</button>
                  <button cButton color="danger">Reject</button>
                </div>
              </c-card-body>
            </c-card>
          </div>
          
        
      </c-card-body>
    </c-card>
  </div>
  